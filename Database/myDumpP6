--
-- PostgreSQL database dump
--

-- Dumped from database version 9.6.10
-- Dumped by pg_dump version 9.6.10

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: 
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


SET default_tablespace = '';

SET default_with_oids = false;

--
-- Name: association_spot_guidebook; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.association_spot_guidebook (
    spot_id integer NOT NULL,
    guidebook_id integer NOT NULL
);


ALTER TABLE public.association_spot_guidebook OWNER TO admin;

--
-- Name: booking; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.booking (
    id integer NOT NULL,
    booked_by character varying(100) NOT NULL,
    date_from date NOT NULL,
    date_until date NOT NULL,
    email character varying(100),
    phone character varying(30),
    member_librairy_id integer NOT NULL
);


ALTER TABLE public.booking OWNER TO admin;

--
-- Name: booking_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

CREATE SEQUENCE public.booking_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.booking_id_seq OWNER TO admin;

--
-- Name: booking_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin
--

ALTER SEQUENCE public.booking_id_seq OWNED BY public.booking.id;


--
-- Name: comment_spot; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.comment_spot (
    id integer NOT NULL,
    comment text NOT NULL,
    member_id integer NOT NULL,
    spot_id integer NOT NULL,
    date date NOT NULL
);


ALTER TABLE public.comment_spot OWNER TO admin;

--
-- Name: comment_spot_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

CREATE SEQUENCE public.comment_spot_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.comment_spot_id_seq OWNER TO admin;

--
-- Name: comment_spot_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin
--

ALTER SEQUENCE public.comment_spot_id_seq OWNED BY public.comment_spot.id;


--
-- Name: guidebook; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.guidebook (
    id integer NOT NULL,
    isbn13 character(13) NOT NULL,
    name text NOT NULL,
    year_publication smallint,
    publisher character varying(100),
    language character varying(50),
    summary text,
    firstname_author character varying(30),
    surname_author character varying(50)
);


ALTER TABLE public.guidebook OWNER TO admin;

--
-- Name: guidebook_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

CREATE SEQUENCE public.guidebook_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.guidebook_id_seq OWNER TO admin;

--
-- Name: guidebook_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin
--

ALTER SEQUENCE public.guidebook_id_seq OWNED BY public.guidebook.id;


--
-- Name: id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

CREATE SEQUENCE public.id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.id_seq OWNER TO admin;

--
-- Name: location; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.location (
    id integer DEFAULT nextval('public.id_seq'::regclass) NOT NULL,
    region character varying(30) NOT NULL,
    departement_name character varying(30) NOT NULL,
    departement_id character(3) NOT NULL,
    city_name character varying(30) NOT NULL,
    zip_code character(5) NOT NULL
);


ALTER TABLE public.location OWNER TO admin;

--
-- Name: member; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.member (
    id integer NOT NULL,
    first_name character varying(30) NOT NULL,
    surname character varying(50) NOT NULL,
    nickname character varying(20) NOT NULL,
    password character varying(20) NOT NULL,
    email character varying(100) DEFAULT ''::character varying NOT NULL,
    phone character varying(30),
    date_membership timestamp without time zone NOT NULL
);


ALTER TABLE public.member OWNER TO admin;

--
-- Name: member_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

CREATE SEQUENCE public.member_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.member_id_seq OWNER TO admin;

--
-- Name: member_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin
--

ALTER SEQUENCE public.member_id_seq OWNED BY public.member.id;


--
-- Name: member_librairy; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.member_librairy (
    member_id integer NOT NULL,
    guidebook_id integer NOT NULL,
    id integer DEFAULT nextval('public.id_seq'::regclass) NOT NULL
);


ALTER TABLE public.member_librairy OWNER TO admin;

--
-- Name: route; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.route (
    id integer NOT NULL,
    name character varying(100) NOT NULL,
    nb_pitch smallint NOT NULL,
    index_pitch smallint NOT NULL,
    rating character varying(4) NOT NULL,
    bolted boolean NOT NULL,
    spot_id integer NOT NULL
);


ALTER TABLE public.route OWNER TO admin;

--
-- Name: route_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

CREATE SEQUENCE public.route_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.route_id_seq OWNER TO admin;

--
-- Name: route_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin
--

ALTER SEQUENCE public.route_id_seq OWNED BY public.route.id;


--
-- Name: spot; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.spot (
    id integer DEFAULT nextval('public.id_seq'::regclass) NOT NULL,
    name_spot character varying(50) NOT NULL,
    name_area character varying(50),
    location_id integer NOT NULL,
    access text NOT NULL
);


ALTER TABLE public.spot OWNER TO admin;

--
-- Name: spot_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

CREATE SEQUENCE public.spot_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.spot_id_seq OWNER TO admin;

--
-- Name: spot_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: admin
--

ALTER SEQUENCE public.spot_id_seq OWNED BY public.spot.id;


--
-- Name: booking id; Type: DEFAULT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.booking ALTER COLUMN id SET DEFAULT nextval('public.booking_id_seq'::regclass);


--
-- Name: comment_spot id; Type: DEFAULT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.comment_spot ALTER COLUMN id SET DEFAULT nextval('public.comment_spot_id_seq'::regclass);


--
-- Name: guidebook id; Type: DEFAULT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.guidebook ALTER COLUMN id SET DEFAULT nextval('public.guidebook_id_seq'::regclass);


--
-- Name: member id; Type: DEFAULT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.member ALTER COLUMN id SET DEFAULT nextval('public.member_id_seq'::regclass);


--
-- Name: route id; Type: DEFAULT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.route ALTER COLUMN id SET DEFAULT nextval('public.route_id_seq'::regclass);


--
-- Data for Name: association_spot_guidebook; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.association_spot_guidebook (spot_id, guidebook_id) FROM stdin;
5	1
5	65
3	4
72	65
73	65
4	65
37	65
5	6
4	6
75	6
5	75
4	75
5	64
4	64
1	6
37	6
\.


--
-- Data for Name: booking; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.booking (id, booked_by, date_from, date_until, email, phone, member_librairy_id) FROM stdin;
126	Zaza	2019-06-03	2019-06-23	w@i.com	434287287382	172
5	pierre	2019-03-13	2019-03-20			110
127	Yvon	2019-03-06	2019-03-20			170
9	Laurent	2019-03-01	2019-03-29			110
10	Lucie	2019-04-11	2019-04-26			110
21	Lucie	2019-03-26	2019-03-28			116
22	Pierre	2019-03-25	2019-03-27			116
26	Henri	2019-03-14	2019-03-28			116
110	Lulu	2019-02-05	2019-02-26			109
112	Lelette	2019-01-01	2019-01-08			109
113	Test	2019-03-01	2019-03-03			109
115	pour usage perso	2019-01-01	2019-12-31			123
109	Pierre	2019-03-23	2019-03-24			109
92	David Yuyu	2019-03-15	2019-03-22			109
121	Paulette	2019-03-05	2019-03-25	paupau@yahoo.fr	0380123987	172
122	Wilson	2019-03-18	2019-03-27	wilson@yahoo.fr	015765652435	186
123	Reza	2019-05-08	2019-05-16		015765652435	186
124	Diana (Berlin)	2019-06-15	2019-06-30		01576565245333	186
\.


--
-- Name: booking_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.booking_id_seq', 127, true);


--
-- Data for Name: comment_spot; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.comment_spot (id, comment, member_id, spot_id, date) FROM stdin;
1	J'ai découvert ce site à l'été 2002 et cela a été un vrai choc! Le site est absolument extraordinaire et comporte des voies de tous niveaux. Je le recommande à tous débutants comme grimpeurs plus expérimentés!	3	1	2019-02-15
2	Attention, la voie "soleil levant" de niveau 4 est clairement de niveau 5 voire 6. Je ne sais pas qui a fait la cotation mais cette voie est vraiment plus difficile qu'il n'y parait!	2	1	2019-01-27
32	Un site fabuleux pour les enfants et les grands!!!LOL	17	124	2019-03-09
34	Comme le signale justement Caropic, attention avec la voie soleil levant. Quand j'y étais la semaine dernière un accident venait de se produire. Donc méfiance!	17	1	2019-03-12
39	pas mal. 	17	124	2019-03-12
46	Mieux que la Ravière? Je ne connais pas. 	8	1	2019-03-12
49	Un groupe de passionnés est en train d'ouvrir ce site. A suivre.	8	175	2019-03-13
50	J'y suis retourné aujourd'hui, c'est vraiment super!	8	175	2019-03-13
52	Magnifique!	8	5	2019-03-14
53	Extraordinaire!	8	5	2019-03-14
54	Pas génial...	8	72	2019-03-14
55	pourri	8	72	2019-03-14
56	Pas mal. 	8	37	2019-03-14
57	Bof.	8	37	2019-03-14
58	Pourquoi pas...	8	37	2019-03-14
59	Personnellement très déçu.	8	4	2019-03-14
60	Super schön!	8	5	2019-03-15
62	Le Mont-Blanc envahi de grimpeurs en tongs. A fuir.	8	4	2019-03-17
63	Extraordinaire. 	8	181	2019-03-17
65	Un site familial. Peu de voies, mais des voies de grandes qualités. A réserver à un public expérimenté. 	8	184	2019-03-17
66	Très bon site. Facilement accessible depuis Lyon. 	8	124	2019-03-18
67	Unglaublig!	8	5	2019-03-18
68	Un niveau 4 intéressant pour les débutants	8	75	2019-03-18
69	Sympa	23	5	2019-03-20
\.


--
-- Name: comment_spot_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.comment_spot_id_seq', 69, true);


--
-- Data for Name: guidebook; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.guidebook (id, isbn13, name, year_publication, publisher, language, summary, firstname_author, surname_author) FROM stdin;
6	9782344005347	Haute Tarentaise: Aime, La Plagne, Peisey, Les Arcs, Bourg-Saint-Maurice, La Rosière, Sainte-Foy, Val d'Isère, Tignes	2015	Glénat Livres	Français	De Moûtiers à Tignes et Val d'Isère, entre Vanoise et Beaufortain s'étire la Haute Tarentaise. Mondialement connue pour ses stations de ski, cette vallée est à découvrir également en été, en douceur, au gré des 44 balades et petites randonnées proposées dans ce guide.\nAlpages, villages, lacs, la montagne est ici généreuse en destinations tout aussi belles et agréables les unes que les autres.	Jean	Gotteland
65	6754352435243	La vie éternelle	1982	Glénat	Français	Un ouvrage de référence!	Pierre	Saint-Patrick
66	6355535243748	Le vercors en hiver	1999	Glénat	Français	Un ouvrage de référence pour les amoureux du Vercors	Jean	Petit
1	9782723462105	Escalade choisies: mont-Blanc, Aiguilles Rouges	2009	Glénat	Français	Au cœur du massif du Mont-Blanc ou dans les Aiguilles Rouges, voici le meilleur de ce terrain de jeu, avec des critères de sélection hédonistes: beauté des sites, variété de style et de rocher, grimpe à la journée sur des voies n'excédant pas 300 m, approche et descentes aisées...	Jean-Charles	Laroche
75	4545555555454	La montagne	1930	Louc	français	Un ouvrage de référence.	Jean	Dubois
76	5555555445455	Test en montagne	1913	Le Peuplier	Français	Un classique	Pierre	Legrand
64	3333333333333	Grimpette en Bretagne	1996	MonBec	Breton	Un ouvrage de référence.	Pierre	Alliche
4	9791034800582	Sous les brumes de Mafate	2017	Evidence Editions	Français	Un très bel ouvrage.	Patricia	Noël-Richard
\.


--
-- Name: guidebook_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.guidebook_id_seq', 76, true);


--
-- Name: id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.id_seq', 188, true);


--
-- Data for Name: location; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.location (id, region, departement_name, departement_id, city_name, zip_code) FROM stdin;
9	La Réunion	La Réunion	974	Saint-Benoît	97470
7	Auvergne-Rhône-Alpes	Haute-Savoie	74 	Chamonix-Mont-Blanc	74400
6	Auvergne-Rhône-Alpes	Savoie	73 	Courchevel	73120
5	Auvergne-Rhône-Alpes	Savoie	73 	La Plagne Tarentaise	73210
4	Auvergne-Rhône-Alpes	Savoie	73 	Aime-la-Plagne	73210
2	Occitanie	Lozère	48 	La Malène	48210
10	Auvergne-Rhône-Alpes	Ain	01 	Pont-de-Vaux	01190
74	Auvergne-Rhône-Alpes	Isère	38 	Miribel-Lanchâtre	38450
87	Auvergne-Rhône-Alpes	Rhône	69 	Dracé	69220
89	Nouvelle-Aquitaine	Pyrénées-Atlantiques	64 	Saint-Jammes	64160
120	Hauts-de-France	Pas-de-Calais	62 	Berck	62600
127	Bourgogne-Franche-Comté	Doubs	25 	Fleurey	25190
174	Auvergne-Rhône-Alpes	Ain	01 	Reyssouze	01190
71	Grand Est	Ardennes	08 	Saint-Juvin	08250
180	Auvergne-Rhône-Alpes	Cantal	15 	Dienne	15300
182	Auvergne-Rhône-Alpes	Cantal	15 	Murat	15300
\.


--
-- Data for Name: member; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.member (id, first_name, surname, nickname, password, email, phone, date_membership) FROM stdin;
2	Caroline	Pierre	Caropic	gygy654!	caroline@hotmail.com	0033611224352	2019-01-22 00:00:00
3	Quentin	Lassivière	QuentinL	rotor1111	quinine@hotmail.es	004915781870467	2019-01-22 00:00:00
17	Super	Admin	superadmin	superadmin	superadmin@admin.fr	015781870467	2019-03-07 10:26:32.06
23	Erdzhan	Ruzhdi	erico	soleil	erdzhan_ruzhdi@yahoo.bg	015781870467	2019-03-18 15:34:16.629
8	Julien	Berthoud	Juju	soleil	julien_berthoud@yahoo.fr	015781870467	2019-03-01 12:27:02.833
25	Serge	Hallib	shallib	soleil	shallib@google.com	0385202988	2019-03-19 10:00:13.669
4	Roger	Black	Roger	yuyu89!	rogerroger@yahoo.fr		2019-01-22 00:00:00
\.


--
-- Name: member_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.member_id_seq', 25, true);


--
-- Data for Name: member_librairy; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.member_librairy (member_id, guidebook_id, id) FROM stdin;
2	4	160
2	6	161
2	64	162
3	64	163
3	65	164
3	66	165
4	1	166
4	4	167
4	65	168
4	66	169
8	1	170
8	65	171
8	64	172
8	66	185
23	6	186
23	65	187
23	66	188
2	1	153
\.


--
-- Data for Name: route; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.route (id, name, nb_pitch, index_pitch, rating, bolted, spot_id) FROM stdin;
1	A tout pic	1	1	5b	t	3
2	Soleil matinal	2	1	7	t	3
3	Coup de sang	2	2	9	f	3
4	Salamandre dorée	1	1	3a	t	3
5	Voie royale	1	1	4	t	1
6	Soleil levant	1	1	4	t	1
7	Pierre qui roule	1	1	5	t	1
8	Terminator	1	1	8	t	1
9	Les cerveaux lents	1	1	4	t	2
10	2001 les doigts de l'espace	2	1	6	t	2
11	2001 les doigts de l'espace	2	2	7	t	2
17	Batman	1	1	7	f	6
18	Speed runner	1	1	6	f	6
19	Paravent royal	1	1	8	t	7
13	Ma voie de l'espoir atomique	1	1	5	t	4
24	Michu, t'es foutu	1	1	7	t	72
25	Michu, on est peut plus!	1	1	4	t	72
26	Nous revoila	1	1	4	f	73
28	Coucou nous voilà	1	1	4	f	75
29	Voie du renard	1	1	6	t	88
31	La belle rouge	1	1	6	t	121
33	Les loupiots	2	1	4	f	128
34	Les loupiots	2	2	7	f	128
14	Bêves blancs	1	1	8	t	4
38	2020 l'aventure	1	1	5	t	183
39	2030 La défi	1	1	6a	t	183
40	2020 l'aventure	1	1	5	t	183
21	La voie du colonnel	1	1	1	f	5
32	Doigts de fer	1	1	6	t	124
30	La belle bleue	1	1	5	t	121
35	Les aventuriers	1	1	4	t	175
36	Les bressans	2	1	4	t	175
37	Les bressans	2	2	9	f	175
\.


--
-- Name: route_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.route_id_seq', 40, true);


--
-- Data for Name: spot; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.spot (id, name_spot, name_area, location_id, access) FROM stdin;
5	Mont-Blanc	Ouestine Célestinette	7	Le site se situe à la sortie du village, sur la D325. Tourner à droite après la station service Total et continuer tout droit en direction du col du Grand Vélibier. 
181	Le Puy Mary		180	Le site se trouve à l'entrée de Dienne, sur la D34.
183	Bellevue		182	Par la D23 en direction de Dienne
184	Bellevue		182	Par la D23 en direction de Dienne
1	Site de la Ravière		5	Le site se situe à la sortie du village, sur la D325. Tourner à droite après la station service Total et continuer tout droit en direction du col du Grand Vélibier. 
121	Grimpberck		120	Le site se situe à la sortie du village, sur la D325. Tourner à droite après la station service Total et continuer tout droit en direction du col du Grand Vélibier. 
7	Les Paravents		2	Le site se situe à la sortie du village, sur la D325. Tourner à droite après la station service Total et continuer tout droit en direction du col du Grand Vélibier. 
6	Beau soleil		6	Le site se situe à la sortie du village, sur la D325. Tourner à droite après la station service Total et continuer tout droit en direction du col du Grand Vélibier. 
3	Falaise de Basse Vallée		9	Le site se situe à la sortie du village, sur la D325. Tourner à droite après la station service Total et continuer tout droit en direction du col du Grand Vélibier. 
2	Site de la Grande Roche		4	Le site se situe à la sortie du village, sur la D325. Tourner à droite après la station service Total et continuer tout droit en direction du col du Grand Vélibier. 
175	Les cabanis		174	Le site se situe à la sortie du village, sur la D325. Tourner à droite après la station service Total et continuer tout droit en direction du col du Grand Vélibier. 
128	Les Loups-Garous		127	Le site se situe à la sortie du village, sur la D325. Tourner à droite après la station service Total et continuer tout droit en direction du col du Grand Vélibier. 
124	La grimpette	nord	10	Le site se situe à la sortie du village, sur la D325. Tourner à droite après la station service Total et continuer tout droit en direction du col du Grand Vélibier. 
90	La bellete noire		89	Le site se situe à la sortie du village, sur la D325. Tourner à droite après la station service Total et continuer tout droit en direction du col du Grand Vélibier. 
88	Site des verts	Sud	87	Le site se situe à la sortie du village, sur la D325. Tourner à droite après la station service Total et continuer tout droit en direction du col du Grand Vélibier. 
75	Les morilles	Sud	74	Le site se situe à la sortie du village, sur la D325. Tourner à droite après la station service Total et continuer tout droit en direction du col du Grand Vélibier. 
73	La poste michue	Est	71	Le site se situe à la sortie du village, sur la D325. Tourner à droite après la station service Total et continuer tout droit en direction du col du Grand Vélibier. 
72	Le poste michue	Ouest	71	Le site se situe à la sortie du village, sur la D325. Tourner à droite après la station service Total et continuer tout droit en direction du col du Grand Vélibier. 
37	Les chamelles rouges	Sud	5	Le site se situe à la sortie du village, sur la D325. Tourner à droite après la station service Total et continuer tout droit en direction du col du Grand Vélibier. 
4	Mont-Blanc	Sud-Ouest	7	Le site se situe à la sortie du village, sur la D325. Tourner à droite après la station service Total et continuer tout droit en direction du col du Grand Vélibier. 
\.


--
-- Name: spot_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.spot_id_seq', 9, false);


--
-- Name: association_spot_guidebook association_spot_guidebook_pk; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.association_spot_guidebook
    ADD CONSTRAINT association_spot_guidebook_pk PRIMARY KEY (spot_id, guidebook_id);


--
-- Name: booking booking_pk; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.booking
    ADD CONSTRAINT booking_pk PRIMARY KEY (id);


--
-- Name: comment_spot comment_spot_pk; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.comment_spot
    ADD CONSTRAINT comment_spot_pk PRIMARY KEY (id);


--
-- Name: guidebook guidebook_pk; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.guidebook
    ADD CONSTRAINT guidebook_pk PRIMARY KEY (id);


--
-- Name: location location_pk; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.location
    ADD CONSTRAINT location_pk PRIMARY KEY (id);


--
-- Name: member_librairy member_librairy_pkey; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.member_librairy
    ADD CONSTRAINT member_librairy_pkey PRIMARY KEY (id);


--
-- Name: member member_pk; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.member
    ADD CONSTRAINT member_pk PRIMARY KEY (id);


--
-- Name: route route_pk; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.route
    ADD CONSTRAINT route_pk PRIMARY KEY (id);


--
-- Name: spot spot_pk; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.spot
    ADD CONSTRAINT spot_pk PRIMARY KEY (id);


--
-- Name: email; Type: INDEX; Schema: public; Owner: admin
--

CREATE UNIQUE INDEX email ON public.member USING btree (email);


--
-- Name: nickname; Type: INDEX; Schema: public; Owner: admin
--

CREATE UNIQUE INDEX nickname ON public.member USING btree (nickname);


--
-- Name: association_spot_guidebook association_spot_guidebook_guidebook_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.association_spot_guidebook
    ADD CONSTRAINT association_spot_guidebook_guidebook_id_fkey FOREIGN KEY (guidebook_id) REFERENCES public.guidebook(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: association_spot_guidebook association_spot_guidebook_spot_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.association_spot_guidebook
    ADD CONSTRAINT association_spot_guidebook_spot_id_fkey FOREIGN KEY (spot_id) REFERENCES public.spot(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: comment_spot comment_spot_member_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.comment_spot
    ADD CONSTRAINT comment_spot_member_id_fkey FOREIGN KEY (member_id) REFERENCES public.member(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: comment_spot comment_spot_spot; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.comment_spot
    ADD CONSTRAINT comment_spot_spot FOREIGN KEY (spot_id) REFERENCES public.spot(id);


--
-- Name: member_librairy member_librairy_guidebook_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.member_librairy
    ADD CONSTRAINT member_librairy_guidebook_id_fkey FOREIGN KEY (guidebook_id) REFERENCES public.guidebook(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: member_librairy member_librairy_member_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.member_librairy
    ADD CONSTRAINT member_librairy_member_id_fkey FOREIGN KEY (member_id) REFERENCES public.member(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: route route_spot_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.route
    ADD CONSTRAINT route_spot_id_fkey FOREIGN KEY (spot_id) REFERENCES public.spot(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: spot spot_location_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.spot
    ADD CONSTRAINT spot_location_id_fkey FOREIGN KEY (location_id) REFERENCES public.location(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- PostgreSQL database dump complete
--

